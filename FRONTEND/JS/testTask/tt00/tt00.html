<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Test app</title>

<style>
    body {
        padding: 25px;
    }
    .flex-column {
        display: flex;
        flex-direction: column;
    }
    .container {
        width: 300px;
    }
    input {
        width: 165px;
    }
    textarea {
        width: 165px;
        resize: none;
    }
    input[type=button] {
        width: 100px;
    }
    .name-value-pair {
        margin-bottom: 20px;
        display: flex;
        align-items: end;
        justify-content: space-between;
    }
    .name-value-pair-list {
        display: flex;
        justify-content: space-between;
    }
    .name-value-pair-list-buttons {
        margin-top: 19px;
        display: flex;
        flex-direction: column;
        justify-content: inherit;
    }
</style>
</head>

<body>
    <h3>Test</h3>
    <div>
        <div class="container">
            <div class="name-value-pair">
                <div class="flex-column">
                    <label>Name/Value Pair</label>
                    <input id="name-selector" placeholder="Name=Value" onkeydown="handlerChangeNameValue()"></input>
                </div>
                <input id="btn-add" type="button" value="Add">
            </div>
            <div class="name-value-pair-list">
                <div class="flex-column">
                    <label>Name/Value Pair List</label>
                    <textarea id="textarea-selector" rows="10" cols="40"></textarea>
                </div>
                <div class="name-value-pair-list-buttons">
                    <input id="btn_sortByName" type="button" value="Sort by Name">
                    <input type="button" value="Sort by Value">
                    <input id="btn-del" type="button" value="Delete">
                    <input type="button" value="Show XML">
                </div>
            </div>
        </div>
    </div>
    <script>
    const input_name_selector = document.querySelector('#name-selector')
    const textarea_selector = document.querySelector('#textarea-selector')

    const btn_add_selector = document.querySelector('#btn-add')
    const btn_del_selector = document.querySelector('#btn-del')
    const btn_sortByName = document.querySelector('#btn_sortByName')

    const handlerAdd = () => textarea_selector.value += input_name_selector.value + '\n'
    const handlerDel = () => textarea_selector.value = ''
    const handlerSortByName = () => {
        textarea_selector.value = textarea_selector.value
        .split('\n')
        .filter(el => el !== '')
        .map(el => el.substr(0, el.indexOf('=')))
        .sort()
        .join('\n')
        }
    const handlerChangeNameValue = () => {
        input_name_selector.value = input_name_selector.value.replace(/\s+/g, '')
        }

        btn_add_selector.addEventListener('click', handlerAdd)
        btn_del_selector.addEventListener('click', handlerDel)
        btn_sortByName.addEventListener('click', handlerSortByName)
    </script>
</body>
</html>
